# 智能垃圾清理 MCP 服务产品文档

## 一、产品简介

本产品是一款面向桌面端用户的智能垃圾清理服务，支持多平台（Windows、macOS、Linux），通过智能算法扫描、识别和清理电脑中的无用文件，提升系统性能，释放存储空间。产品支持自定义规则、定时清理、目录指定、智能推荐等多种高级功能，致力于为用户提供安全、便捷、高效的系统清理体验。

---

## 二、核心功能

- [ ] 智能扫描
  - [x] 支持全盘扫描、指定目录扫描
  - [x] 分析目录中文件的类型分布与大小分布
  - [x] 查找超过指定大小的大文件
  - [ ] 智能识别常见垃圾文件类型
  - [ ] 支持自定义扫描规则
  - [ ] 扫描结果可视化展示

- [ ] 一键清理
  - [x] 应用程序缓存清理
  - [x] 系统临时文件清理
  - [x] 已卸载应用程序残留文件清理
  - [x] 智能系统清理（支持安全/标准/深度三种级别）
  - [x] VS Code 扩展清理与报告生成

- [x] 定时清理
  - [x] 支持自定义定时任务 (Cron/间隔)
  - [x] 支持定时自动执行任意工具 (不仅限于扫描与清理)
  - [x] 定时任务管理（新增、编辑、删除、暂停/启用）
  - [x] 支持模糊匹配工具名称 (`toolQuery`)
  - [x] 支持手动触发任务 (`runTaskNow`)
  - [x] 支持查看任务执行历史 (`getTaskHistory`)

- [ ] 智能推荐与规则库
  - [ ] 内置常见垃圾文件规则库，定期在线更新
  - [ ] 支持用户自定义规则并保存
  - [ ] 智能推荐可清理项

- [x] 安全保障
  - [x] 清理工具执行前的确认机制
  - [x] 清理日志记录查看与清理
  - [x] 危险路径清理二次确认
  - [ ] 清理前自动备份重要文件
  - [ ] 内置白名单机制

- [x] 多平台支持
  - [x] macOS 系统支持
  - [x] 操作系统类型检测
  - [x] Windows、Linux 跨平台支持
  - [ ] 支持多语言

- [x] 其他扩展功能
  - [x] 文件系统操作工具（列表、查找、分析、哈希计算等）
  - [x] 文件与路径管理工具（删除、检查路径存在等）

---

## 三、用户体验设计

### 1. 主界面
- 显示系统空间使用情况
- 快速入口：全盘扫描、指定目录、定时任务、规则管理
- 最近清理记录与空间释放统计

### 2. 扫描与清理流程
- 扫描进度条与实时结果展示
- 扫描结果分组（类型、路径、大小等）
- 清理前确认与备份提示
- 清理完成后空间变化可视化

### 3. 设置与扩展
- 规则库管理界面
- 定时任务管理界面
- 白名单与黑名单管理
- 多语言切换

---

## 四、技术实现规划

### 1. 架构设计
- 前端：Electron/Vue/React 实现跨平台桌面应用
- 后端：Node.js/Python/Rust 实现高效文件扫描与清理
- 通信：本地 IPC 或 RESTful API
- 插件机制：支持第三方扩展

### 2. 核心模块
- 文件扫描引擎（多线程/异步，支持大文件量）
- 规则引擎（内置+自定义，支持热更新）
- 定时任务调度器 (基于 `croner`, 支持持久化到 JSON, 通过 `[Schedule]` 工具管理)
- 目标工具模糊匹配 (基于 `fuse.js`)
- 文件备份与还原模块
- 日志与报告模块 (基于 `winston`, 含 `[Audit]` 工具)
- 跨平台适配层

### 3. 安全与权限
- 需获取系统文件操作权限（管理员/Root 权限）
- 文件操作前后校验与备份
- 用户数据加密存储

---

## 五、常见问题与支持

- FAQ、用户手册、在线帮助
- 问题反馈与建议通道
- 自动更新与版本管理

---

## 六、联系方式

- 官方网站/邮箱/社区
- GitHub Issue 